(function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"url": "https://vega.github.io/vega-datasets/data/world-110m.json", "format": {"feature": "countries", "type": "topojson"}}, "mark": {"type": "geoshape", "stroke": "white"}, "encoding": {"color": {"type": "quantitative", "field": "Overall", "scale": {"scheme": "bluegreen"}}, "tooltip": [{"type": "nominal", "field": "Country"}, {"type": "quantitative", "field": "Overall"}, {"type": "quantitative", "field": "Openness"}, {"type": "quantitative", "field": "Coverage"}]}, "projection": {"center": [10, 55], "clipExtent": [[0, 0], [400, 300]], "scale": 250, "type": "mercator"}, "transform": [{"lookup": "id", "from": {"data": {"name": "data-ebf1e9e19d8bc42904575bfe02864c49"}, "key": "id", "fields": ["Overall", "Country", "Openness", "Coverage"]}}], "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-ebf1e9e19d8bc42904575bfe02864c49": [{"Country Code": "CYP", "Country_x": "Cyprus", "Overall": 62.3, "Coverage": 48.4, "Openness": 74.1, "Country_y": "Cyprus", "Alpha-2 code": "CY", "Alpha-3 code": "CYP", "id": 196, "Latitude (average)": 35.0, "Longitude (average)": 33.0}, {"Country Code": "BGR", "Country_x": "Bulgaria", "Overall": 69.9, "Coverage": 65.9, "Openness": 73.2, "Country_y": "Bulgaria", "Alpha-2 code": "BG", "Alpha-3 code": "BGR", "id": 100, "Latitude (average)": 43.0, "Longitude (average)": 25.0}, {"Country Code": "CZE", "Country_x": "Czech Republic", "Overall": 69.8, "Coverage": 71.1, "Openness": 68.8, "Country_y": "Czech Republic", "Alpha-2 code": "CZ", "Alpha-3 code": "CZE", "id": 203, "Latitude (average)": 49.75, "Longitude (average)": 15.5}, {"Country Code": "HUN", "Country_x": "Hungary", "Overall": 65.3, "Coverage": 63.1, "Openness": 67.1, "Country_y": "Hungary", "Alpha-2 code": "HU", "Alpha-3 code": "HUN", "id": 348, "Latitude (average)": 47.0, "Longitude (average)": 20.0}, {"Country Code": "POL", "Country_x": "Poland", "Overall": 85.3, "Coverage": 81.2, "Openness": 88.8, "Country_y": "Poland", "Alpha-2 code": "PL", "Alpha-3 code": "POL", "id": 616, "Latitude (average)": 52.0, "Longitude (average)": 20.0}, {"Country Code": "ROU", "Country_x": "Romania", "Overall": 66.2, "Coverage": 57.9, "Openness": 73.2, "Country_y": "Romania", "Alpha-2 code": "RO", "Alpha-3 code": "ROU", "id": 642, "Latitude (average)": 46.0, "Longitude (average)": 25.0}, {"Country Code": "SVK", "Country_x": "Slovakia", "Overall": 78.2, "Coverage": 66.2, "Openness": 88.5, "Country_y": "Slovakia", "Alpha-2 code": "SK", "Alpha-3 code": "SVK", "id": 703, "Latitude (average)": 48.6667, "Longitude (average)": 19.5}, {"Country Code": "DNK", "Country_x": "Denmark", "Overall": 84.4, "Coverage": 74.4, "Openness": 93.0, "Country_y": "Denmark", "Alpha-2 code": "DK", "Alpha-3 code": "DNK", "id": 208, "Latitude (average)": 56.0, "Longitude (average)": 10.0}, {"Country Code": "EST", "Country_x": "Estonia", "Overall": 70.2, "Coverage": 64.0, "Openness": 75.5, "Country_y": "Estonia", "Alpha-2 code": "EE", "Alpha-3 code": "EST", "id": 233, "Latitude (average)": 59.0, "Longitude (average)": 26.0}, {"Country Code": "FIN", "Country_x": "Finland", "Overall": 84.8, "Coverage": 82.1, "Openness": 87.1, "Country_y": "Finland", "Alpha-2 code": "FI", "Alpha-3 code": "FIN", "id": 246, "Latitude (average)": 64.0, "Longitude (average)": 26.0}, {"Country Code": "IRL", "Country_x": "Ireland", "Overall": 77.1, "Coverage": 61.4, "Openness": 90.4, "Country_y": "Ireland", "Alpha-2 code": "IE", "Alpha-3 code": "IRL", "id": 372, "Latitude (average)": 53.0, "Longitude (average)": -8.0}, {"Country Code": "LVA", "Country_x": "Latvia", "Overall": 58.2, "Coverage": 51.8, "Openness": 63.6, "Country_y": "Latvia", "Alpha-2 code": "LV", "Alpha-3 code": "LVA", "id": 428, "Latitude (average)": 57.0, "Longitude (average)": 25.0}, {"Country Code": "LTU", "Country_x": "Lithuania", "Overall": 73.8, "Coverage": 70.0, "Openness": 77.0, "Country_y": "Lithuania", "Alpha-2 code": "LT", "Alpha-3 code": "LTU", "id": 440, "Latitude (average)": 56.0, "Longitude (average)": 24.0}, {"Country Code": "SWE", "Country_x": "Sweden", "Overall": 83.9, "Coverage": 77.6, "Openness": 89.3, "Country_y": "Sweden", "Alpha-2 code": "SE", "Alpha-3 code": "SWE", "id": 752, "Latitude (average)": 62.0, "Longitude (average)": 15.0}, {"Country Code": "HRV", "Country_x": "Croatia", "Overall": 63.8, "Coverage": 58.9, "Openness": 68.0, "Country_y": "Croatia", "Alpha-2 code": "HR", "Alpha-3 code": "HRV", "id": 191, "Latitude (average)": 45.1667, "Longitude (average)": 15.5}, {"Country Code": "GRC", "Country_x": "Greece", "Overall": 60.1, "Coverage": 55.0, "Openness": 64.6, "Country_y": "Greece", "Alpha-2 code": "GR", "Alpha-3 code": "GRC", "id": 300, "Latitude (average)": 39.0, "Longitude (average)": 22.0}, {"Country Code": "ITA", "Country_x": "Italy", "Overall": 65.9, "Coverage": 53.5, "Openness": 76.5, "Country_y": "Italy", "Alpha-2 code": "IT", "Alpha-3 code": "ITA", "id": 380, "Latitude (average)": 42.8333, "Longitude (average)": 12.8333}, {"Country Code": "MLT", "Country_x": "Malta", "Overall": 47.2, "Coverage": 44.4, "Openness": 49.1, "Country_y": "Malta", "Alpha-2 code": "MT", "Alpha-3 code": "MLT", "id": 470, "Latitude (average)": 35.8333, "Longitude (average)": 14.5833}, {"Country Code": "PRT", "Country_x": "Portugal", "Overall": 66.5, "Coverage": 55.8, "Openness": 75.7, "Country_y": "Portugal", "Alpha-2 code": "PT", "Alpha-3 code": "PRT", "id": 620, "Latitude (average)": 39.5, "Longitude (average)": -8.0}, {"Country Code": "SVN", "Country_x": "Slovenia", "Overall": 79.9, "Coverage": 70.7, "Openness": 87.7, "Country_y": "Slovenia", "Alpha-2 code": "SI", "Alpha-3 code": "SVN", "id": 705, "Latitude (average)": 46.0, "Longitude (average)": 15.0}, {"Country Code": "ESP", "Country_x": "Spain", "Overall": 71.3, "Coverage": 68.4, "Openness": 73.7, "Country_y": "Spain", "Alpha-2 code": "ES", "Alpha-3 code": "ESP", "id": 724, "Latitude (average)": 40.0, "Longitude (average)": -4.0}, {"Country Code": "AUT", "Country_x": "Austria", "Overall": 68.7, "Coverage": 60.1, "Openness": 76.1, "Country_y": "Austria", "Alpha-2 code": "AT", "Alpha-3 code": "AUT", "id": 40, "Latitude (average)": 47.3333, "Longitude (average)": 13.3333}, {"Country Code": "BEL", "Country_x": "Belgium", "Overall": 45.5, "Coverage": 44.3, "Openness": 46.6, "Country_y": "Belgium", "Alpha-2 code": "BE", "Alpha-3 code": "BEL", "id": 56, "Latitude (average)": 50.8333, "Longitude (average)": 4.0}, {"Country Code": "FRA", "Country_x": "France", "Overall": 62.0, "Coverage": 57.1, "Openness": 66.3, "Country_y": "France", "Alpha-2 code": "FR", "Alpha-3 code": "FRA", "id": 250, "Latitude (average)": 46.0, "Longitude (average)": 2.0}, {"Country Code": "DEU", "Country_x": "Germany", "Overall": 77.3, "Coverage": 67.0, "Openness": 86.0, "Country_y": "Germany", "Alpha-2 code": "DE", "Alpha-3 code": "DEU", "id": 276, "Latitude (average)": 51.0, "Longitude (average)": 9.0}, {"Country Code": "NLD", "Country_x": "Netherlands", "Overall": 81.5, "Coverage": 70.0, "Openness": 91.3, "Country_y": "Netherlands", "Alpha-2 code": "NL", "Alpha-3 code": "NLD", "id": 528, "Latitude (average)": 52.5, "Longitude (average)": 5.75}, {"Country Code": "LUX", "Country_x": "Luxembourg", "Overall": 65.1, "Coverage": 46.5, "Openness": 80.9, "Country_y": "Luxembourg", "Alpha-2 code": "LU", "Alpha-3 code": "LUX", "id": 442, "Latitude (average)": 49.75, "Longitude (average)": 6.1667}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('map');
      vegaEmbed("#map", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);
